{"version":3,"sources":["components/User.tsx","api/admin.tsx","api/auth.tsx","context.tsx","pages/Admin/AdminPanel.tsx","pages/Admin/AdminPages/InfoBox.tsx","pages/Admin/AdminPages/Userlist/Userlistlogic.tsx","pages/Admin/AdminPages/Userlist/Userlist.tsx","pages/Admin/AdminPages/Categories/CategoriesLogic.tsx","pages/Admin/AdminPages/Categories/Categories.tsx","pages/Admin/AdminPages/Posts/Posts.tsx","routes/AdminRoutes.tsx","components/auth/Login.tsx","components/auth/Register.tsx","api/category.tsx","components/popups/Addcategory.tsx","components/AppContainer.tsx","components/Nav.tsx","components/Navigation.tsx","api/post.tsx","pages/Home/HomeLogic.tsx","pages/Home/PostLogic.tsx","pages/Home/Comment.tsx","pages/Home/Post.tsx","pages/Home/Home.tsx","mapa/useFindInMap.tsx","mapa/BaseLayers.tsx","mapa/Map.tsx","helpers/mainhelper.tsx","pages/AddPost/AddLogic.tsx","pages/AddPost/Add.tsx","pages/About/About.tsx","routes/UserRoutes.tsx","App.tsx","index.tsx"],"names":["User","user","bold","userEl","useRef","userStyles","display","alignItems","fontWeight","style","ref","image","src","className","icon","faUser","size","name","console","log","fetchData","method","url","body","a","axios","headers","token","localStorage","getItem","data","response","addCategory","categoryAlert","deleteCategory","categoryId","googleLogin","tokenId","resp","setItem","msg","error","isLogged","type","res","email","login","JSON","stringify","register","AppContext","React","createContext","AppProvider","children","useState","page","setPage","navigator","setNavigator","setUser","useEffect","AuthType","then","logged","admin","isAdmin","isUserLogged","Provider","value","logout","removeItem","useGlobalContext","useContext","AdminPanel","location","useLocation","categoriesAlert","setCategoriesAlert","history","useHistory","push","to","pathname","Badge","variant","createdAt","InfoBox","text","number","color","boxStyle","backgroundColor","background","Userlistlogic","users","setUsers","loading","setLoading","adminCount","setAdminCount","fetch","setFetch","countAdmin","num","forEach","item","afterFetch","curFetch","delAdmin","id","userId","makAdmin","delUser","Userlist","UserListLogic","length","Table","striped","bordered","hover","map","tableuser","index","Date","toDateString","loginType","password","mainAdmin","Button","onClick","_id","CategoriesLogic","approvedCategories","setApprovedCategories","notApprovedCategories","setNotApprovedCategories","categoryInput","categories","filter","approved","reFetch","addCategoryForm","e","preventDefault","current","approveCategoryBt","deleteCategoryBt","Categories","onSubmit","category","createdByUser","AdminRoutes","useRouteMatch","path","exact","Posts","Login","close","setPopup","nowLogin","setNowLogin","setError","setEmail","setPassword","handleSubmit","picture","Modal","Header","closeButton","Title","Body","Alert","onClose","show","dismissible","Form","Group","controlId","Label","Control","placeholder","onChange","target","isInvalid","Spinner","animation","clientId","buttonText","onSuccess","onFailure","cookiePolicy","responseSuccessGoogle","responseErrorGoogle","Register","setName","password_confirmation","setPasswordConf","includes","getCategory","AddCategory","sucAlert","setSucAlert","delay","Promise","setTimeout","err","AppContainer","popup","showPopup","setShowPopup","loginPopup","onHide","Nav","underline","setUnderline","once","setOnce","onMouseOver","onMouseOut","alt","faSignInAlt","Navigator","navAr","setNavAr","content","setContent","split","load","key","arr","word","href","charAt","toUpperCase","slice","addPost","formData","getPosts","likePost","postId","addCommentF","FormData","append","HomeLogic","imgCount","posts","setPosts","imgIndex","setImgIndex","rightArrow","setRightArrow","leftArrow","setLeftArrow","fetchPost","toRight","toLeft","socket","socketIOClient","SinglePostLogic","postInfo","likeCount","setlikeCount","liked","setLiked","date","setDate","comments","setComments","conSocket","isLiked","formatDate","likedByUsers","coms","reverse","on","dateObject","userL","like","curLikeCount","emit","shorterLocationLabel","label","addComment","newComment","commentedByUser","Comment","Post","images","PostLogic","showComments","setShowComments","inputCom","faMapMarkedAlt","position","faChevronLeft","faChevronRight","description","faHeart","faComment","curShow","width","faPaperPlane","Homie","useFindInMap","loactionToFind","setLoactionToFind","result","setResult","odpoved","geocoder","getResults","results","script","document","createElement","async","onload","window","Loader","place","smapa","SMap","Geocoder","bbox","Coords","fromWGS84","appendChild","removeChild","BaseLayers","BASE","TURIST","OPHOTO","HYBRID","HISTORIC","BIKE","TRAIL","OPHOTO0203","OPHOTO0406","OBLIQUE","SMART_BASE","SMART_OPHOTO","SMART_TURIST","RELIEF","TURIST_WINTER","SMART_WINTER","SUMMER","SMART_SUMMER","GEOGRAPHY","OPHOTO1012","HYBRID_SPARSE","OPHOTO1415","BASE_NEW","TURIST_NEW","MapContext","StyledMap","styled","div","Map","props","mapNode","setMap","height","zoom","center","marker","centerCoords","lng","lat","sMap","addDefaultLayer","enable","DEF_BASE","addDefaultControls","makrLayer","Layer","Marker","addLayer","markerCors","x","y","newMarker","addMarker","defaultProps","minZoom","maxZoom","baseLayers","Mainhelper","AddLogic","setCategories","selectedCategories","setSelectedCategories","setMsg","MainHelper","selectCategory","formSubmit","datas","mapCoors","toString","closeAlert","Add","setMapCoors","setImages","useForm","getValues","setValue","watchLocation","watch","mapResult","useMemo","rows","checked","faCheck","coors","coords","files","multiple","About","UserRoutes","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f3f011a6.chunk.js","sourcesContent":["import { useRef } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFileExport, faUser } from \"@fortawesome/free-solid-svg-icons\";\n\ninterface Props {\n  user: otherUser;\n  bold?: boolean;\n}\nfunction User({ user, bold }: Props) {\n  const userEl = useRef<HTMLDivElement>(null);\n\n  var userStyles = {\n    display: \"flex\",\n    alignItems: \"center\",\n  };\n  if (bold) userStyles = { ...userStyles, ...{ fontWeight: \"bold\" } };\n  if (!user) {\n    console.log(user);\n    return <> </>;\n  }\n  return (\n    <div style={userStyles} ref={userEl}>\n      {user.image ? (\n        <img src={user.image} className=\"profile-pic\" />\n      ) : (\n        <FontAwesomeIcon icon={faUser} size=\"lg\" />\n      )}\n      <p className=\"pl-2\">{user.name}</p>\n    </div>\n  );\n}\n\nexport default User;\n","import axios from \"axios\";\nconst fetchData = async (method: Method, url: string, body?: any) => {\n  try {\n    const response = await axios({\n      method,\n      url: \"http://10.0.0.7:5000/api/admin/\" + url,\n      headers: {\n        token: localStorage.getItem(\"token\"),\n        \"auth-type\": localStorage.getItem(\"auth-type\"),\n      },\n      data: body,\n    });\n    return response;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const getUsers = () => {\n  return fetchData(\"GET\", \"users\");\n};\nexport const makeAdmin = (userId: string) => {\n  return fetchData(\"GET\", \"users/admin/\" + userId);\n};\nexport const deleteAdmin = (userId: string) => {\n  console.log(userId);\n  return fetchData(\"DELETE\", \"users/admin/\" + userId);\n};\nexport const deleteUser = (userId: string) => {\n  return fetchData(\"DELETE\", \"users/\" + userId);\n};\n\nexport const getCategories = () => {\n  return fetchData(\"GET\", \"categories\");\n};\n\nexport const approveCategory = (categoryId: string) => {\n  return fetchData(\"GET\", \"categories/\" + categoryId);\n};\n\nexport const addCategory = async (body: any) => {\n  return fetchData(\"POST\", \"categories\", body);\n};\nexport const categoryAlert = async () => {\n  return fetchData(\"GET\", \"categories/naprovedcount\");\n};\nexport const deleteCategory = async (categoryId : string) => {\n  return fetchData(\"DELETE\", \"categories/\" + categoryId);\n};\n\n","import axios from \"axios\";\n\nexport const googleLogin = async (response: any) => {\n  try {\n    const resp = await axios({\n      method: \"POST\",\n      url: \"http://10.0.0.7:5000/api/auth/googlelogin\",\n      data: {\n        tokenId: { tokenId: response.tokenId },\n      },\n    });\n    const token = resp.data.token;\n    console.log(resp);\n    if (\"token\" in resp.data) {\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"auth-type\", \"google\"); \n      // isLogged(\"google\");\n      return { msg: \"success\", user: resp.data.user, error: \"\" };\n    }\n  } catch (err) {\n    console.log(err);\n  }\n  return {msg: \"failed\", user: {}, error: \"Something went wrong\"};\n};\n\n// type LogType = \"JWT\" | \"google\";\n\nexport const isLogged = async (type: string | null) => {\n  try {\n    const res = await axios({\n      method: \"GET\",\n      url: \"http://10.0.0.7:5000/api/auth/is_logged\",\n      headers: {\n        \"token\": localStorage.getItem(\"token\"),\n        \"auth-type\": type,\n      },\n    });\n    if ((res.data.msg = \"success\" && res.data.user.email)) {\n      return res.data.user; \n    } else {\n      return false; \n    }\n  } catch (err) {\n    return false; \n  }\n};\n\nexport const login = async (data: any) => {\n  try {\n    const resp = await axios({\n      method: \"POST\",\n      url: \"http://10.0.0.7:5000/api/auth/login\",\n      data: { body: JSON.stringify(data) },\n    });\n    const token = resp.data.token;\n    console.log(resp);\n    if (\"token\" in resp.data) {\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"auth-type\", \"JWT\"); \n      // isLogged(\"JWT\");\n      return { msg: \"success\", user: resp.data.user };\n    } else if (\"error\" in resp.data) {\n      return resp.data.error;\n    } else {\n      return \"Something went wrong\";\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const register = async (data: any) => {\n  try {\n    const resp = await axios({\n      method: \"POST\",\n      url: \"http://10.0.0.7:5000/api/auth/register\",\n      data: { body: JSON.stringify(data) },\n    });\n    console.log(resp);\n    if (resp.data === \"Succesfully registered\") {\n      console.log(\"here we go\");\n      return \"now login\";\n    } else if (resp.data) {\n      return resp.data; //error\n    } else {\n      return \"Something went wrong\"; //server error\n    }\n  } catch (err) {\n    console.log(err);\n    return \"Something went wrong\"; //server error\n  }\n};\n","import React, { useState, useContext, useEffect, ReactNode } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { isLogged } from \"./api/auth\";\n\ninterface AppContext {\n  page: String;\n  setPage: (str: string) => void;\n  user: User | null;\n  setUser: (pr: User) => void;\n  navigator: string;\n  setNavigator: (pr: string) => void;\n  logout: () => void;\n}\n\nconst AppContext = React.createContext<AppContext>({} as AppContext);\n\ninterface Props {\n  children: ReactNode;\n}\ntype AuthType = \"google\" | \"JWT\" | null;\ninterface User {\n  logged: boolean;\n  name: string;\n  email: string;\n  image: string;\n  admin: boolean;\n}\n\nconst AppProvider = ({ children }: Props) => {\n  // const [popUp, setPopup] = useState<string>(\"\");\n  const [page, setPage] = useState<string>(\"\");\n  const [navigator, setNavigator] = useState<string>(\"\");\n  const [user, setUser] = useState<User | null>(null);\n  const logout = () => {\n    if (user?.logged) {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"auth-type\");\n      setUser(null);\n    }\n  };\n  const isUserLogged = () => {\n    const AuthType = localStorage.getItem(\"auth-type\");\n    if (AuthType) {\n      isLogged(AuthType).then((res) => {\n        if (res) {\n          setUser({\n            logged: true,\n            name: res.name,\n            email: res.email,\n            image: res.image,\n            admin: res.admin ? res.admin.isAdmin : false,\n          });\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    isUserLogged();\n  }, []);\n  useEffect(() => {\n    console.log(user);\n  }, [user]);\n\n  return (\n    <AppContext.Provider\n      value={{ page, setPage, user, setUser, navigator, setNavigator, logout }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import { ReactNode, useEffect, useState } from \"react\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { Badge } from \"react-bootstrap\";\nimport \"../../styles/Admin.css\";\nimport User from \"../../components/User\";\nimport { categoryAlert } from \"../../api/admin\";\nimport { useGlobalContext } from \"../../context\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction AdminPanel({ children }: Props) {\n  const location = useLocation();\n  const [categoriesAlert, setCategoriesAlert] = useState(0);\n  const { user } = useGlobalContext();\n  const history = useHistory();\n  useEffect(() => {\n    if (!user) history.push(\"/\");\n    categoryAlert().then((res) => {\n      if (!res) return;\n      if (\"msg\" in res.data) setCategoriesAlert(res.data.msg);\n    });\n  }, []);\n  return (\n    <>\n      <div className=\"d-flex\">\n        <div className=\"admin-nav flex-center-col\">\n          <img\n            src={process.env.PUBLIC_URL + \"/images/logo.svg\"}\n            className=\"logo\"\n          />\n          <ul className=\"flex-center-col\">\n            <Link to=\"/admin\" className=\"full-width\">\n              <li className={`${location.pathname == \"/admin\" && \"active\"}`}>\n                User list\n              </li>\n            </Link>\n            <Link to=\"/admin/categories\" className=\"full-width\">\n              <li\n                className={`${\n                  location.pathname === \"/admin/categories\" && \"active\"\n                }`}\n              >\n                Categories\n                {categoriesAlert !== 0 ?? (\n                  <Badge variant=\"danger\" className=\"ml-2\">\n                    {categoriesAlert}\n                  </Badge>\n                )}\n              </li>\n            </Link>\n            <Link to=\"/admin/posts\" className=\"full-width\">\n              <li\n                className={`${\n                  location.pathname === \"/admin/posts\" && \"active\"\n                }`}\n              >\n                Posts\n              </li>\n            </Link>\n          </ul>\n        </div>\n        <div className=\"full-width\">\n          <div className=\"topPanel\">\n            <h3 className=\"pl-2\">Admine page</h3>\n            <div className=\"userBox\">\n              <User\n                user={{\n                  name: \"David Křístek\",\n                  email: \"\",\n                  image: \"\",\n                  createdAt: null,\n                }}\n                bold\n              />\n            </div>\n          </div>\n          <div className=\"mainBox\">{children}</div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default AdminPanel;\n","import React from 'react'\n\ninterface Props {\n    text: string, \n    number: string | number,\n    color?: string,\n    background: string\n}\n\nfunction InfoBox({text, number, color, background} : Props) {\n    var boxStyle = {\n        backgroundColor: background\n    }\n    if(color) boxStyle = {...boxStyle, ...{color: color}}; \n    return (\n        <div className=\"infoBox\" style={boxStyle}>\n            <span className=\"font3\">{text}:</span>\n            <span>{number}</span>\n        </div>\n    )\n}\n\nexport default InfoBox\n","import { useState, useEffect } from \"react\";\nimport {\n  getUsers,\n  makeAdmin,\n  deleteAdmin,\n  deleteUser,\n} from \"../../../../api/admin\";\ntype specUser = {\n  _id: string;\n  name: string;\n  email: string;\n  image: string;\n  createdAt: Date;\n  password: string;\n  admin: {\n    isAdmin: boolean;\n    mainAdmin: boolean;\n  };\n};\nfunction Userlistlogic() {\n  const [users, setUsers] = useState<specUser[]>();\n  const [loading, setLoading] = useState(true);\n  const [adminCount, setAdminCount] = useState(0);\n  const [fetch, setFetch] = useState(false);\n\n  useEffect(() => {\n    getUsers().then((res) => {\n      if (!res) return;\n      setUsers(res.data);\n      setLoading(false);\n    });\n  }, [fetch]);\n\n  useEffect(() => {\n    countAdmin();\n  }, [users]);\n  const countAdmin = () => {\n    if (!users) return;\n    console.log(users);\n    var num = 0;\n    users.forEach((item) => {\n      if (item.admin) if (item.admin.isAdmin) num += 1;\n    });\n    console.log(num);\n\n    setAdminCount(num);\n  };\n  const afterFetch = (res: any) => {\n    if (\"msg\" in res.data) {\n      setFetch((curFetch) => !curFetch);\n      //   set alert to msg\n    }\n  };\n  const delAdmin = (id: string) => {\n    deleteAdmin(id).then((res) => {\n      afterFetch(res);\n    });\n  };\n  const makAdmin = (id: string) => {\n    makeAdmin(id).then((res) => {\n      afterFetch(res);\n    });\n  };\n  const delUser = (id: string) => {\n    deleteUser(id).then((res) => {\n      afterFetch(res);\n    });\n  };\n\n  return { users, loading, adminCount, delAdmin, makAdmin, delUser };\n}\n\nexport default Userlistlogic;\n","import React from \"react\";\nimport { Table, Button } from \"react-bootstrap\";\nimport InfoBox from \"../InfoBox\";\nimport UserListLogic from \"./Userlistlogic\";\n\nfunction Userlist() {\n  const { loading, adminCount, delAdmin, makAdmin, delUser, users } =\n    UserListLogic();\n  if (loading)\n    return (\n      <div>\n        <p className=\"heading\">Current users</p>\n      </div>\n    );\n  return (\n    <div>\n      <p className=\"heading\">Current users</p>\n      <div className=\"infoBoxesBox\">\n        <InfoBox\n          text=\"Number of users\"\n          number={users ? users.length : 0}\n          background=\"#65CA6F\"\n        />\n        <InfoBox\n          text=\"Number of admins\"\n          number={adminCount}\n          background=\"#1426C4\"\n          color=\"white\"\n        />\n      </div>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Username</th>\n            <th>Email</th>\n            <th>Created at</th>\n            <th>Profile image</th>\n            <th>Login type</th>\n            <th>Admin</th>\n            <th>Admin action</th>\n            <th>Remove user</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users &&\n            users.map((tableuser, index) => {\n              const dateObject = new Date(tableuser.createdAt);\n              const date = dateObject.toDateString();\n              const loginType =\n                tableuser.password === \"google-log\" ? \"google\" : \"this page\";\n              const admin = tableuser.admin\n                ? tableuser.admin.isAdmin\n                  ? tableuser.admin.mainAdmin\n                    ? \"main admin\"\n                    : \"admin\"\n                  : \"user\"\n                : \"user\";\n              return (\n                <tr key={index}>\n                  <td>{index}</td>\n                  <td>{tableuser.name}</td>\n                  <td>{tableuser.email}</td>\n                  <td>{tableuser.createdAt}</td>\n                  <th>\n                    <img src={tableuser.image} className=\"profile-pic\" />\n                  </th>\n                  <th>{loginType}</th>\n                  <th>{admin}</th>\n                  <th>\n                    {admin === \"admin\" ? (\n                      <Button\n                        variant=\"primary\"\n                        onClick={() => {\n                          delAdmin(tableuser._id);\n                        }}\n                      >\n                        Remove admin\n                      </Button>\n                    ) : admin === \"main admin\" ? (\n                      \"No action avivable\"\n                    ) : (\n                      <Button\n                        variant=\"primary\"\n                        onClick={() => {\n                          makAdmin(tableuser._id);\n                        }}\n                      >\n                        Make admin\n                      </Button>\n                    )}\n                  </th>\n                  <th>\n                    <Button\n                      variant=\"danger\"\n                      onClick={() => {\n                        delUser(tableuser._id);\n                      }}\n                    >\n                      Remove user\n                    </Button>\n                  </th>\n                </tr>\n              );\n            })}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default Userlist;\n","import { useState, useEffect, useRef } from \"react\";\nimport {\n  getCategories,\n  addCategory,\n  approveCategory,\n  deleteCategory,\n} from \"../../../../api/admin\";\n\nfunction CategoriesLogic() {\n  const [loading, setLoading] = useState(true);\n  const [approvedCategories, setApprovedCategories] = useState<Category[]>();\n  const [notApprovedCategories, setNotApprovedCategories] =\n    useState<Category[]>();\n  const [fetch, setFetch] = useState(false);\n  const categoryInput = useRef<HTMLInputElement>(null);\n\n  useState<Category[]>();\n  useEffect(() => {\n    getCategories().then((res) => {\n      if (!res) return;\n      const categories: Category[] = res.data;\n      setApprovedCategories(categories.filter((item) => item.approved));\n      setNotApprovedCategories(categories.filter((item) => !item.approved));\n      setLoading(false);\n    });\n  }, [fetch]);\n\n  const addCategoryForm = (e: any) => {\n    e.preventDefault();\n    if (!categoryInput) return;\n    if (!categoryInput.current) return;\n    addCategory({ name: categoryInput.current.value }).then((res) => {\n      if (!res) return;\n      if (\"msg\" in res.data) reFetch();\n    });\n  };\n  const approveCategoryBt = (id: string) => {\n    approveCategory(id).then((res) => {\n      if (!res) return;\n      if (\"msg\" in res.data) reFetch();\n    });\n  };\n  const deleteCategoryBt = (id: string) => {\n    deleteCategory(id).then((res) => {\n      if (!res) return;\n      if (\"msg\" in res.data) reFetch();\n    });\n  };\n\n  const reFetch = () => {\n    setFetch((curFetch) => !curFetch);\n  };\n  return {\n    loading,\n    approvedCategories,\n    notApprovedCategories,\n    addCategoryForm,\n    categoryInput,\n    approveCategoryBt,\n    deleteCategoryBt,\n  };\n}\n\nexport default CategoriesLogic;\n","import { Table, Button } from \"react-bootstrap\";\nimport { approveCategory, deleteCategory } from \"../../../../api/admin\";\nimport InfoBox from \"../InfoBox\";\nimport CategoriesLogic from \"./CategoriesLogic\";\nfunction Categories() {\n  const {\n    loading,\n    approvedCategories,\n    notApprovedCategories,\n    addCategoryForm,\n    categoryInput,\n    approveCategoryBt,\n    deleteCategoryBt,\n  } = CategoriesLogic();\n  if (loading) return <p className=\"heading\">Categoires</p>;\n\n  return (\n    <div>\n      <p className=\"heading\">Categoires</p>\n      <div className=\"infoBoxesBox\">\n        <InfoBox\n          text=\"Number of approved categories\"\n          number={approvedCategories ? approvedCategories.length : 0}\n          background=\"#14C399\"\n          color=\"white\"\n        />\n        <InfoBox\n          text=\"Number of categories to approve\"\n          number={notApprovedCategories ? notApprovedCategories.length : 0}\n          background=\"#145AC3\"\n          color=\"white\"\n        />\n      </div>\n      <p>Add category</p>\n      <form\n        onSubmit={(e) => {\n          addCategoryForm(e);\n        }}\n      >\n        <input\n          type=\"text\"\n          className=\"input small-input no-radius-border-right\"\n          ref={categoryInput}\n        />\n        <Button\n          variant=\"success\"\n          className=\"no-radius-border-left\"\n          type=\"submit\"\n        >\n          Confirm\n        </Button>\n      </form>\n      <p>Approved categories</p>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Created</th>\n            <th>Remove category</th>\n          </tr>\n        </thead>\n        <tbody>\n          {approvedCategories &&\n            approvedCategories.map((category, index) => (\n              <tr key={index}>\n                <td>{index}</td>\n                <td>{category.name}</td>\n                <td>\n                  {category.createdByUser\n                    ? category.createdByUser.name\n                    : \"user deleted\"}\n                </td>\n                <td>\n                  <Button\n                    variant=\"danger\"\n                    onClick={() => {\n                      deleteCategoryBt(category._id);\n                    }}\n                  >\n                    Remove category\n                  </Button>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </Table>\n      <p>Categories to approve</p>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Created</th>\n            <th>Approve category</th>\n            <th>Remove category</th>\n          </tr>\n        </thead>\n        <tbody>\n          {notApprovedCategories &&\n            notApprovedCategories.map((category, index) => (\n              <tr key={index}>\n                <td>{index}</td>\n                <td>{category.name}</td>\n                <td>\n                  {category.createdByUser\n                    ? category.createdByUser.name\n                    : \"user deleted\"}\n                </td>\n                <td>\n                  <Button\n                    variant=\"success\"\n                    onClick={() => {\n                      approveCategoryBt(category._id);\n                    }}\n                  >\n                    Approve category\n                  </Button>\n                </td>\n                <td>\n                  <Button\n                    variant=\"danger\"\n                    onClick={() => {\n                      deleteCategoryBt(category._id);\n                    }}\n                  >\n                    Remove category\n                  </Button>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default Categories;\n","import React from \"react\";\nimport { Table, Button } from \"react-bootstrap\";\nimport InfoBox from \"../InfoBox\";\n\nfunction Categories() {\n  return (\n    <div>\n      <p className=\"heading\">Current posts</p>\n      <div className=\"infoBoxesBox\">\n        <InfoBox\n          text=\"Number of posts\"\n          number=\"4\"\n          background=\"#65CA6F\"\n          color=\"white\"\n        />\n        <InfoBox\n          text=\"Number of pictures\"\n          number=\"8\"\n          background=\"#14C399\"\n          color=\"white\"\n        />\n        <InfoBox\n          text=\"Size of pictures\"\n          number=\"60mb\"\n          background=\"#145AC3\"\n          color=\"white\"\n        />\n      </div>\n      <p>Current posts</p>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Description</th>\n            <th>Created by</th>\n            <th>Created at</th>\n            <th>Likes</th>\n            <th>Number of comments</th>\n            <th>Location</th>\n            <th>Images</th>\n            <th>Categories</th>\n            <th>More info</th>\n            <th>Remove post</th>\n          </tr>\n        </thead>\n        <tbody>\n          {/* set value - useForm */}\n          <tr>\n            <td>1</td>\n            <td>Kolo</td>\n            <td>David Kristek</td>\n            <th>\n              <Button variant=\"danger\">Remove user</Button>\n            </th>\n          </tr>\n        </tbody>\n      </Table>\n      <p>Deleted posts</p>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Created</th>\n            <th>Approve category</th>\n          </tr>\n        </thead>\n        <tbody>\n          {/* set value - useForm */}\n          <tr>\n            <td>1</td>\n            <td>Kolo</td>\n            <td>David Kristek</td>\n            <th>\n              <Button variant=\"success\">Add back</Button>\n            </th>\n          </tr>\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default Categories;\n","import React from \"react\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\n\nimport AdminPanel from \"../pages/Admin/AdminPanel\";\nimport Userlist from \"../pages/Admin/AdminPages/Userlist/Userlist\";\nimport Categories from \"../pages/Admin/AdminPages/Categories/Categories\";\nimport Posts from \"../pages/Admin/AdminPages/Posts/Posts\";\n\nfunction AdminRoutes() {\n  let { path, url } = useRouteMatch();\n\n  return (\n    <div>\n      <AdminPanel>\n        <Switch>\n        <Route exact path={path}>\n            <Userlist />\n          </Route>\n          <Route exact path={`${path}/categories`}>\n            <Categories />\n          </Route>\n          <Route exact path={`${path}/posts`}>\n            <Posts />\n          </Route>\n        </Switch>\n      </AdminPanel>\n    </div>\n  );\n}\n\nexport default AdminRoutes;\n","import React, { useState } from \"react\";\nimport { Modal, Button, Form, Alert, Spinner } from \"react-bootstrap\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { useGlobalContext } from \"../../context\";\nimport { googleLogin } from \"../../api/auth\";\nimport \"../../App.css\";\nimport { login } from \"../../api/auth\";\n\ninterface Props {\n  close: () => void;\n  setPopup: (str: string) => void;\n  setNowLogin: (bl: boolean) => void;\n  nowLogin: boolean;\n}\n\nfunction Login({ close, setPopup, nowLogin, setNowLogin }: Props) {\n  const { setUser } = useGlobalContext();\n  const [error, setError] = useState<string | null>(null);\n  const [email, setEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    setLoading(true);\n    login({ email, password }).then((res) => {\n      if (res?.msg === \"success\") {\n        setUser({\n          logged: true,\n          name: res.user.name,\n          email: res.user.email,\n          image: res.user.picture,\n          admin: res.user.admin ? res.user.admin.isAdmin : false,\n        });\n        localStorage.setItem(\"auth-type\", \"jwt\");\n        setError(null);\n        setPopup(\"\");\n      } else {\n        setError(res);\n      }\n      setLoading(false);\n    });\n  };\n  const responseSuccessGoogle = (response: any) => {\n    googleLogin(response).then((res) => {\n      if (res.msg === \"failed\") {\n        setError(res.error);\n      } else {\n        setUser({\n          logged: true,\n          name: res?.user.name,\n          email: res?.user.email,\n          image: res?.user.picture,\n          admin: res.user.admin ? res.user.admin.isAdmin : false,\n        });\n        setPopup(\"\");\n      }\n    });\n  };\n  const responseErrorGoogle = (response: any) => {\n    console.log(response);\n  };\n  return (\n    <div>\n      <Modal.Header closeButton>\n        <Modal.Title>Log in</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Alert\n          variant=\"success\"\n          onClose={() => setNowLogin(false)}\n          show={nowLogin}\n          dismissible\n        >\n          Succesfully registered, now login\n        </Alert>\n        <Alert\n          variant=\"danger\"\n          onClose={() => setError(null)}\n          show={!!error}\n          dismissible\n        >\n          {error}\n        </Alert>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Enter email\"\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n              isInvalid={!!error}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n              isInvalid={!!error}\n            />\n          </Form.Group>\n          <div className=\"d-flex justify-content-between\">\n            <p>\n              Dont have account?\n              <a\n                className=\"text-primary point\"\n                onClick={() => {\n                  setPopup(\"register\");\n                }}\n              >\n                {\" \"}\n                Register\n              </a>\n            </p>\n            <Button variant=\"primary submit\" type=\"submit\">\n              {loading ? (\n                <Spinner animation=\"border\" variant=\"light\" />\n              ) : (\n                \"Submit\"\n              )}\n            </Button>\n          </div>\n        </Form>\n        <h5 className=\"mt-4 text-center border-top pt-4\">\n          Continue with google:{\" \"}\n        </h5>\n        <div className=\"center mt-3 mb-3\">\n          <GoogleLogin\n            clientId=\"236995755291-85hhe3gi2eaofgemhvcbv1horm067upu.apps.googleusercontent.com\"\n            buttonText=\"Login in with google\"\n            onSuccess={responseSuccessGoogle}\n            onFailure={responseErrorGoogle}\n            cookiePolicy={\"single_host_origin\"}\n          />\n        </div>\n      </Modal.Body>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Modal, Button, Form, Alert, Spinner } from \"react-bootstrap\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { googleLogin } from \"../../api/auth\";\nimport { register } from \"../../api/auth\";\nimport \"../../App.css\";\n\ninterface Props {\n  close: () => void;\n  setPopup: (str: string) => void;\n  setNowLogin: (bl: boolean) => void;\n}\nconst responseSuccessGoogle = (response: any) => {\n  googleLogin(response);\n};\nconst responseErrorGoogle = (response: any) => {\n  console.log(response);\n};\n\nfunction Register({ close, setPopup, setNowLogin }: Props) {\n  const [error, setError] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password_confirmation, setPasswordConf] = useState(\"\");\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    setLoading(true);\n    register({ name, password, email, password_confirmation }).then((res) => {\n      if (res === \"now login\") {\n        // history.push(\"/\")\n        setNowLogin(true);\n        setPopup(\"login\");\n      } else {\n        console.log(res);\n        setError(res);\n      }\n      setLoading(false);\n    });\n  };\n  return (\n    <div>\n      <Modal.Header closeButton>\n        <Modal.Title>Register</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Alert\n          variant=\"danger\"\n          onClose={() => setError(\"\")}\n          show={!!error}\n          dismissible\n        >\n          {error}\n        </Alert>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"formBasicUsername\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n              isInvalid={error.includes(\"name\")}\n            />\n          </Form.Group>\n          <Form.Label>Email address</Form.Label>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Enter email\"\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n              isInvalid={error.includes(\"email\") || error.includes(\"Email\")}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n              isInvalid={error.includes(\"password\")}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formPasswordConfirmation\">\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Repeat password\"\n              value={password_confirmation}\n              onChange={(e) => {\n                setPasswordConf(e.target.value);\n              }}\n              isInvalid={error.includes(\"password\")}\n            />\n          </Form.Group>\n\n          <div className=\"d-flex justify-content-between\">\n            <p>\n              Already have account?\n              <a\n                className=\"text-primary point\"\n                onClick={() => {\n                  setPopup(\"login\");\n                }}\n              >\n                {\" \"}\n                Login\n              </a>\n            </p>\n            <Button variant=\"primary submit\" type=\"submit\">\n              {loading ? (\n                <Spinner animation=\"border\" variant=\"light\" />\n              ) : (\n                \"Submit\"\n              )}\n            </Button>\n          </div>\n        </Form>\n        <h5 className=\"mt-4 text-center border-top pt-4\">\n          Continue with google:{\" \"}\n        </h5>\n        <div className=\"center mt-3 mb-3\">\n          <GoogleLogin\n            clientId=\"236995755291-85hhe3gi2eaofgemhvcbv1horm067upu.apps.googleusercontent.com\"\n            buttonText=\"Login in with google\"\n            onSuccess={responseSuccessGoogle}\n            onFailure={responseErrorGoogle}\n            cookiePolicy={\"single_host_origin\"}\n          />\n        </div>\n      </Modal.Body>\n    </div>\n  );\n}\n\nexport default Register;\n","import axios from \"axios\";\n\nexport const getCategory = async () => {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: \"http://10.0.0.7:5000/api/category\",\n    });\n    return response;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n};\nexport const addCategory = async (body : any) => {\n  console.log(body);\n\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: \"http://10.0.0.7:5000/api/category/add\",\n      data: body, \n      headers: {\n        \"token\": localStorage.getItem(\"token\"),\n        \"auth-type\": localStorage.getItem(\"auth-type\"),\n      },\n    });\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n};","import React, { useState } from \"react\";\nimport { Modal, Button, Alert, Spinner, Form } from \"react-bootstrap\";\nimport \"../../App.css\";\nimport { addCategory } from \"../../api/category\";\ninterface Props {\n  close: () => void;\n  setPopup: (str: string | null) => void;\n}\nfunction AddCategory({ close, setPopup }: Props) {\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState<string | null>();\n  const [loading, setLoading] = useState(false);\n  const [sucAlert, setSucAlert] = useState<string>()\n  const delay = (delay: number) => {\n    return new Promise(res => setTimeout(res, delay)); \n  }; \n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n    setLoading(true);\n    addCategory({ name }).then((res) => {\n      console.log(res);\n      if (res.msg) {\n        setError(null);\n        //delay 5s s popupem succes kategorie pridana ke schvaleni\n        setSucAlert(\"Váš návrh na kategorii byl poslán ke schválení\"); \n        delay(5000).then(res => {\n          setPopup(\"\");\n        })\n      } else if (res.err) {\n        setError(res.err);\n      } else {\n        setError(\"Something went wrong\");\n      }\n      setLoading(false);\n    });\n  };\n\n  return (\n    <div>\n      <Modal.Header closeButton>\n        <Modal.Title>Add category</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Alert\n          variant=\"danger\"\n          onClose={() => setError(null)}\n          show={!!error}\n          dismissible\n        >\n          {error}\n        </Alert>\n        <Alert\n          variant=\"success\"\n          onClose={() => setSucAlert(\"\")}\n          show={!!sucAlert}\n          dismissible\n        >\n          {sucAlert}\n        </Alert>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"formBasicName\">\n            <Form.Label>Name of category</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter name of category\"\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n              isInvalid={!!error}\n            />\n          </Form.Group>\n          <Button variant=\"primary submit\" type=\"submit\">\n            {loading ? (\n              <Spinner animation=\"border\" variant=\"light\" />\n            ) : (\n              \"Submit\"\n            )}\n          </Button>\n        </Form>\n      </Modal.Body>\n    </div>\n  );\n}\n\nexport default AddCategory;\n","import React, { ReactNode, useState, useRef } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nimport Login from \"../components/auth/Login\";\nimport Register from \"../components/auth/Register\";\nimport AddCategory from \"../components/popups/Addcategory\";\n\ninterface Props {\n  children: ReactNode;\n  popup: String | null;\n  setPopup: (str: string | null) => void;\n  setShowPopup: (bl: boolean) => void;\n  showPopup: boolean;\n}\nfunction AppContainer({\n  children,\n  popup,\n  setPopup,\n  showPopup,\n  setShowPopup,\n}: Props) {\n  const [nowLogin, setNowLogin] = useState(false);\n  const loginPopup = useRef<React.MutableRefObject<null>>(null);\n  const close = () => {\n    // if(loginPopup.current) loginPopup.current.onHide = false; \n    setShowPopup(false);\n  };\n  //useRef !!!\n  if (popup) {\n    return (\n      <>\n        <Modal show={showPopup} onHide={close} ref={loginPopup}>\n          {popup === \"login\" && (\n            <Login\n              close={close}\n              setPopup={setPopup}\n              nowLogin={nowLogin}\n              setNowLogin={setNowLogin}\n            />\n          )}\n          {popup === \"register\" && (\n            <Register\n              close={close}\n              setPopup={setPopup}\n              setNowLogin={setNowLogin}\n            />\n          )}\n          {popup === \"addCategory\" && (\n            <AddCategory close={close} setPopup={setPopup} />\n          )}\n        </Modal>\n        {children}\n      </>\n    );\n  } else {\n    return <> {children}</>;\n  }\n}\n\nexport default AppContainer;\n","import React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignInAlt, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { useGlobalContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport \"../App.css\";\nimport \"../styles/Nav.css\";\ninterface Props {\n  setPopup: (str: String) => void;\n  setShowPopup: (bl: boolean) => void;\n}\n\nfunction Nav({ setPopup, setShowPopup }: Props) {\n  const { page, user, logout } = useGlobalContext();\n  const [underline, setUnderline] = useState(page);\n  const [once, setOnce] = useState(true);\n  const login = () => {\n    setPopup(\"login\");\n    setShowPopup(true);\n    // setPage(\"log\")\n  };\n  if (page !== \"\" && once) {\n    const pageI = page;\n    setUnderline(pageI);\n    setOnce(false);\n  }\n  return (\n    <>\n      <nav>\n        <img src={process.env.PUBLIC_URL + \"/images/logo.svg\"} />\n        <ul>\n          <li\n            onMouseOver={() => {\n              setUnderline(\"posts\");\n            }}\n            onMouseOut={() => {\n              setUnderline(page);\n            }}\n          >\n            <Link to=\"/\">Posts</Link>\n          </li>\n          <li\n            onMouseOver={() => {\n              setUnderline(\"chats\");\n            }}\n            onMouseOut={() => {\n              setUnderline(page);\n            }}\n          >\n            <Link to=\"/chats\">Chats</Link>\n          </li>\n          {user ? (\n            <li className=\"nav-user\">\n              {user.name}\n              {!user.image ? (\n                <FontAwesomeIcon icon={faUser} size=\"lg\" />\n              ) : (\n                <img\n                  src={user.image}\n                  alt=\"profile picture\"\n                  className=\"nav-profile-pic\"\n                />\n              )}\n              <div className=\"nav-dropdown\">\n                <ul>\n                  <li>\n                    <Link to=\"add\">Add post</Link>\n                  </li>\n                  <li>Settings</li>\n                  <li onClick={logout}>Logout</li>\n                </ul>\n              </div>\n            </li>\n          ) : (\n            <li\n              onMouseOver={() => {\n                setUnderline(\"log\");\n              }}\n              onMouseOut={() => {\n                setUnderline(page);\n              }}\n              onClick={login}\n            >\n              Login\n              <FontAwesomeIcon icon={faSignInAlt} size=\"lg\" />\n            </li>\n          )}\n        </ul>\n      </nav>\n      {/* <span className={`underline ${page}-nav`}></span> */}\n\n      <span className={`underline ${underline}-nav`}></span>\n      {/* lagovani mozne vyresit delay pomoci useEffectu a nove classNamys */}\n    </>\n  );\n}\n\nexport default Nav;\n","import React, { useState, useEffect, ReactNode } from \"react\";\nimport { Link } from \"react-router-dom\"; \nimport { useGlobalContext } from \"../context\";\nimport \"../App.css\";\nfunction Navigator() {\n  const { navigator } = useGlobalContext();\n  const [navAr, setNavAr] = useState<string[]>();\n  const [content, setContent] = useState<ReactNode>();\n  function capitalizeFirstLetter(word: string) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n  }\n  useEffect(() => {\n    setNavAr(navigator.split(\"|\"));\n  }, [navigator]);\n  useEffect(() => {\n    let a = 0; \n    if (navAr) {\n      var load = navAr.map((item, key, arr) => {\n        a++; \n        let href = \"\";\n        switch (item) {\n          case \"posts\":\n            href = \"/\";\n            break;\n          case \"add post\":\n            href = \"/add\";\n            break;\n\n          default:\n            href = item;\n        }\n        item = capitalizeFirstLetter(item);\n        if (arr.length - 1 === key) {\n          return (\n            <Link key={a} to={href} className=\"link font2\">\n              {item}\n            </Link>\n          );\n        }\n        return (\n          <span key={a} >\n            <Link key={a} to={href} className=\"link font2\">\n              {item}\n            </Link>{\" \"}\n            {\" >\"}\n          </span>\n        );\n      });\n      setContent(load);\n    }\n  }, [navAr]);\n  return <div className=\"navigator\">{content}</div>;\n}\n\nexport default Navigator;\n","import axios from \"axios\";\n\nexport const addPost = async (formData: any) => {\n  try {\n    const response = await axios(\"http://10.0.0.7:5000/api/posts/add\", {\n      method: \"POST\",\n      data: formData,\n      headers: {\n        token: localStorage.getItem(\"token\"),\n        \"auth-type\": localStorage.getItem(\"auth-type\"),\n      },\n    });\n    return response.data;\n  } catch (err) {\n    return { err: \"Something went wrong\" };\n  }\n};\nexport const getPosts = async () => {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: \"http://10.0.0.7:5000/api/posts\",\n    });\n    return response;\n  } catch (err) {\n    return false;\n  }\n};\nexport const likePost = async (postId: string) => {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: \"http://10.0.0.7:5000/api/posts/like/\" + postId,\n      headers: {\n        token: localStorage.getItem(\"token\"),\n        \"auth-type\": localStorage.getItem(\"auth-type\"),\n      },\n    });\n    return response;\n  } catch (err) {\n    return false;\n  }\n};\nexport const addCommentF = async (postId: string, text: string) => {\n  var bodyFormData = new FormData();\n  bodyFormData.append(\"text\", text);\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: \"http://10.0.0.7:5000/api/posts/comment/\" + postId,\n      headers: {\n        token: localStorage.getItem(\"token\"),\n        \"auth-type\": localStorage.getItem(\"auth-type\"),\n      },\n      data: {text: text}\n    });\n    return response;\n  } catch (err) {\n    return false;\n  }\n};\n","import { useState, useEffect } from \"react\";\nimport { useGlobalContext } from \"../../context\";\nimport { getPosts } from \"../../api/post\";\n\ntype ArrowClass = \"display\" | \"display-0\";\n\nfunction HomeLogic(imgCount: number) {\n  const { setPage, setNavigator, user } = useGlobalContext();\n  const [posts, setPosts] = useState<Post[]>();\n  const [loading, setLoading] = useState(true);\n  const [imgIndex, setImgIndex] = useState(0);\n  const [rightArrow, setRightArrow] = useState<ArrowClass>();\n  const [leftArrow, setLeftArrow] = useState<ArrowClass>(\"display-0\");\n  useEffect(() => {\n    fetchPost();\n    setPage(\"posts\");\n    setNavigator(\"posts|\");\n  }, []);\n\n  const fetchPost = () => {\n\n    getPosts().then((res) => {\n      console.log(\"fetched\");\n      if (!res) return;\n      setPosts(res.data);\n      setLoading(false);\n    });\n  };\n  const toRight = () => {\n    setImgIndex((index) => index + 1);\n    if (imgIndex + 2 === imgCount) setRightArrow(\"display-0\");\n    setLeftArrow(\"display\");\n  };\n  const toLeft = () => {\n    console.log(\"display\");\n    setImgIndex((index) => index - 1);\n    if (imgIndex - 1 === 0) setLeftArrow(\"display-0\");\n    setRightArrow(\"display\");\n  };\n\n  return { loading, posts, imgIndex, toRight, toLeft, rightArrow, leftArrow };\n}\n\nexport default HomeLogic;\n","import { useEffect, useState } from \"react\";\nimport { useGlobalContext } from \"../../context\";\nimport { likePost, addCommentF } from \"../../api/post\";\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://10.0.0.7:5000\";\nconst socket = socketIOClient(ENDPOINT);\n\ninterface Props {\n  postInfo: Post;\n}\ninterface Cmt {\n  text: string | undefined;\n  commentedByUser: otherUser;\n}\n\nfunction SinglePostLogic({ postInfo }: Props) {\n  const { user } = useGlobalContext();\n  const [likeCount, setlikeCount] = useState(0);\n  const [liked, setLiked] = useState(false);\n  const [date, setDate] = useState(\"\");\n  const [comments, setComments] = useState<Cmt[]>();\n\n  useEffect(() => {\n    conSocket();\n    setLiked(isLiked());\n    if (!user) setLiked(false);\n    formatDate();\n    setlikeCount(postInfo.likedByUsers.length);\n    var coms = postInfo.comments.reverse();\n    setComments(coms);\n  }, [user]);\n\n  const conSocket = () => {\n    socket.on(\"getComments\", (comments) => {\n      setComments(comments);\n    });\n    socket.on(\"getLikeCount\", (num: number) => {\n      setlikeCount(num);\n    });\n  };\n\n  const formatDate = () => {\n    if (!postInfo.createdAt) return;\n    let dateObject = new Date(postInfo.createdAt);\n    setDate(dateObject.toDateString());\n  };\n\n  const shorterLocationLabel = () => {\n    if(!postInfo.location) return; \n    let label = postInfo.location.label;\n    let labelArr = label.split(\",\");\n    return labelArr[0];\n  };\n\n  const isLiked = () => {\n    if(!user) return false; \n    const { likedByUsers } = postInfo;\n    if (likedByUsers.filter((userL) => userL.email == user.email).length > 0)\n      return true;\n    return false;\n  };\n  const like = () => {\n    likePost(postInfo._id).then((res) => {\n      if (!res) return;\n      if (\"data\" in res && \"msg\" in res.data) {\n        if (res.data.msg === \"like\") {\n          setLiked(true);\n          setlikeCount((curLikeCount) => curLikeCount + 1);\n        }\n\n        if (res.data.msg === \"unlike\") {\n          setLiked(false);\n          setlikeCount((curLikeCount) => curLikeCount - 1);\n        }\n      }\n      socket.emit(\"likeCount\", postInfo._id);\n    });\n  };\n  const addComment = (e: any, text: string | undefined) => {\n    e.preventDefault();\n    if (!text || !user) return;\n\n    addCommentF(postInfo._id, text).then((res) => {\n      if (!res) return;\n      if (res.data.msg === \"commented\") {\n        socket.emit(\"actComment\", postInfo._id);\n        const newComment = {\n          text: text,\n          commentedByUser: {\n            name: user.name,\n            email: user.email,\n            image: user.image,\n            createdAt: null,\n          },\n        };\n        if (!comments) return;\n        setComments([newComment, ...comments]);\n      }\n    });\n  };\n  return {\n    liked,\n    likeCount,\n    like,\n    date,\n    shorterLocationLabel,\n    addComment,\n    comments,\n  };\n}\n\nexport default SinglePostLogic;\n","import React from \"react\";\nimport User from \"../../components/User\";\ninterface Props {\n  user: otherUser;\n  text: string | undefined;\n}\n\nfunction Comment({ text, user }: Props) {\n  return (\n    <div className=\"comment\">\n      <User user={user} bold/>\n      <span className=\"font3\">{text ?? \"\"}</span> \n    </div>\n  );\n}\n\nexport default Comment;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button } from \"react-bootstrap\";\nimport {\n  faChevronRight,\n  faChevronLeft,\n  faMapMarkedAlt,\n  faHeart,\n  faComment,\n  faPaperPlane,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"../../styles/Home.css\";\nimport User from \"../../components/User\";\nimport HomeLogic from \"./HomeLogic\";\nimport { useGlobalContext } from \"../../context\";\nimport PostLogic from \"./PostLogic\";\nimport Comment from \"./Comment\";\n\ninterface Props {\n  postInfo: Post;\n}\n\nfunction Post({ postInfo }: Props) {\n  const { imgIndex, toRight, toLeft, rightArrow, leftArrow } = HomeLogic(\n    postInfo.images.length\n  );\n  const {\n    liked,\n    likeCount,\n    like,\n    date,\n    shorterLocationLabel,\n    addComment,\n    comments,\n  } = PostLogic({\n    postInfo,\n  });\n  const { user } = useGlobalContext();\n  const [showComments, setShowComments] = useState(false);\n  const inputCom = useRef<HTMLInputElement>(null);\n\n  return (\n    <div className=\"post\">\n      <div className=\"top\">\n        <User user={postInfo.createdByUser} />\n        <div className=\"right\">\n          <span className=\"pr-3\">{date}</span>\n          <span className=\"pl-2\">\n            {postInfo.location && postInfo.location.label.length > 30 ? (\n              <>\n                <FontAwesomeIcon icon={faMapMarkedAlt} size=\"lg\" />\n                {shorterLocationLabel()}\n              </>\n            ) : (\n              postInfo.location && (\n                <>\n                  <FontAwesomeIcon icon={faMapMarkedAlt} size=\"lg\" />\n                  {postInfo.location.label}\n                </>\n              )\n            )}\n          </span>\n        </div>\n      </div>\n      <div className=\"center\">\n        {postInfo.images.length > 1\n          ? postInfo.images.map((image, index) => {\n              var position = \"\";\n              if (index === imgIndex) position = \"active\";\n              if (index === imgIndex + 1) position = \"right\";\n              if (index === imgIndex - 1) position = \"left\";\n              return (\n                <img\n                  key={index}\n                  src={process.env.PUBLIC_URL + \"/uploads/\" + image}\n                  className={position}\n                />\n              );\n            })\n          : postInfo.images.length > 0 && (\n              <img\n                src={process.env.PUBLIC_URL + \"/uploads/\" + postInfo.images[0]}\n                className=\"active\"\n              />\n            )}\n      </div>\n      {postInfo.images.length > 1 && (\n        <>\n          <FontAwesomeIcon\n            icon={faChevronLeft}\n            size=\"5x\"\n            className={`arrow leftArrow ${leftArrow}`}\n            onClick={toLeft}\n          />\n          <FontAwesomeIcon\n            icon={faChevronRight}\n            size=\"5x\"\n            className={`arrow rightArrow ${rightArrow}`}\n            onClick={toRight}\n          />\n        </>\n      )}\n      <div className=\"bottom\">\n        <div className=\"left\">\n          <div className=\"htop\">\n            <h3 className=\"font1\">{postInfo.name}</h3>\n            {postInfo.categories &&\n              postInfo.categories.map((item, index) => (\n                <div className=\"category\" key={index}>\n                  {item.name}\n                </div>\n              ))}\n          </div>\n          <p className=\"font3\">{postInfo.description}</p>\n        </div>\n        <div className=\"right\">\n          <span className=\"font2\">{likeCount}</span>\n          <FontAwesomeIcon\n            icon={faHeart}\n            size=\"2x\"\n            className={liked ? \"heart\" : \"heart heart-unactive\"}\n            onClick={like}\n          />\n          <span className=\"font2\">{comments ? comments.length : 0}</span>\n          <FontAwesomeIcon\n            icon={faComment}\n            size=\"2x\"\n            className=\"comment-icon comment-icon-unactive\"\n            onClick={() => {\n              setShowComments((curShow) => !curShow);\n            }}\n          />\n        </div>\n      </div>\n      {showComments && (\n        <div className=\"comments-box\">\n          {comments &&\n            comments.map((item, index) => (\n              <Comment\n                text={item.text ?? \"\"}\n                key={index}\n                user={item.commentedByUser}\n              />\n            ))}\n          <form\n            className=\"mr-1 mt-3\"\n            onSubmit={(e) => {\n              addComment(e, inputCom.current?.value);\n              if (inputCom.current?.value) inputCom.current.value = \"\";\n            }}\n          >\n            <input\n              type=\"text\"\n              ref={inputCom}\n              className=\"input small-input no-radius-border-right\"\n              placeholder=\"Add comment\"\n              style={{ width: \"50%\" }}\n            />\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"no-radius-border-left\"\n            >\n              <FontAwesomeIcon icon={faPaperPlane} size=\"lg\" />\n            </Button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Post;\n","import React, { useEffect } from \"react\";\nimport ReactLoading from \"react-loading\";\nimport { useGlobalContext } from \"../../context\";\nimport HomeLogic from \"./HomeLogic\";\nimport Post from \"./Post\";\nimport \"../../styles/Home.css\";\n\nfunction Homie() {\n  const { setPage } = useGlobalContext();\n  const { loading, posts } = HomeLogic(0);\n\n  return (\n    <main className=\"home\">\n      {loading ? (\n        <div className=\"center mt-5\">\n          <ReactLoading type=\"bars\" color=\"rgb(140, 138, 146)\" width=\"10%\" />\n        </div>\n      ) : (\n        <>\n          {posts &&\n            posts.map((item, index) => <Post postInfo={item} key={index} />)}\n        </>\n      )}\n    </main>\n  );\n}\n\nexport default Homie;\n","import { useState, useEffect } from \"react\";\n\nconst useFindInMap = () => {\n  const [loactionToFind, setLoactionToFind] = useState(\"\");\n  const [result, setResult] = useState<any>();\n  const [loading, setLoading] = useState(true);\n  const odpoved = (geocoder: any) => {\n    if (!geocoder.getResults()[0].results.length) {\n      setResult(null);\n      return;\n    }\n    const res = geocoder.getResults()[0].results;\n    setResult(res);\n  };\n  const find = (place: string, smapa: any) => {\n    if (smapa) {\n      var geocode = new smapa.Geocoder(place, odpoved, {\n        bbox: [\n          smapa.Coords.fromWGS84(12.09, 51.06),\n          smapa.Coords.fromWGS84(18.87, 48.55),\n        ],\n      });\n    }\n  };\n  useEffect(() => {\n    const onload = () => {\n      // @ts-ignore\n      window.Loader.async = true;\n      // @ts-ignore\n      window.Loader.load(null, null, () => {\n        if (loactionToFind) {\n          find(loactionToFind, window.SMap);\n        }\n      });\n      setLoading(false);\n    };\n\n    const script = document.createElement(\"script\");\n    script.src = \"https://api.mapy.cz/loader.js\";\n    script.async = true;\n    script.onload = onload;\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, [loactionToFind]);\n  return { setLoactionToFind, result };\n};\n\nexport default useFindInMap;\n","const BaseLayers = {\n\tBASE: 1,\n\tTURIST: 2,\n\tOPHOTO: 3,\n\tHYBRID: 4,\n\tHISTORIC: 5,\n\tBIKE: 6,\n\tTRAIL: 7,\n\tOPHOTO0203: 8,\n\tOPHOTO0406: 9,\n\tOBLIQUE: 12,\n\tSMART_BASE: 14,\n\tSMART_OPHOTO: 15,\n\tSMART_TURIST: 16,\n\tRELIEF: 17,\n\tTURIST_WINTER: 19,\n\tSMART_WINTER: 20,\n\tSUMMER: 21,\n\tSMART_SUMMER: 22,\n\tGEOGRAPHY: 23,\n\tOPHOTO1012: 24,\n\tHYBRID_SPARSE: 25,\n\tOPHOTO1415: 26,\n\tBASE_NEW: 27,\n\tTURIST_NEW: 28,\n};\n\nexport default BaseLayers;\n\n\n","import React, { createContext, useEffect, useRef, useState } from \"react\";\nimport BaseLayers from \"./BaseLayers\";\nimport styled from \"styled-components\";\n\nexport const MapContext = createContext(null);\n\n\n\ninterface MapProps {\n  center: { lat: number; lng: number };\n  width?: string;\n  height?: string;\n  zoom?: number;\n  baseLayers?: number[];\n  children?: React.ReactNode;\n  marker?: mapCoors;\n}\n\n// Override PreflightCSS presets\nconst StyledMap = styled.div`\n  img {\n    max-width: initial !important;\n  }\n`;\n\nconst Map = (props: MapProps) => {\n  const [loading, setLoading] = useState(true);\n  const mapNode = useRef(null);\n  const [map, setMap] = useState(null);\n  const { width, height, children } = props;\n  useEffect(() => {\n    const onload = () => {\n      // @ts-ignore\n      window.Loader.async = true;\n      // @ts-ignore\n      window.Loader.load(null, null, () => {\n        setLoading(false);\n        const { zoom, center, marker } = props;\n        const centerCoords = window.SMap.Coords.fromWGS84(\n          center.lng,\n          center.lat\n        );\n        const sMap = new window.SMap(mapNode.current, centerCoords, zoom);\n        const l = sMap.addDefaultLayer(BaseLayers.TURIST_NEW);\n        l.enable();\n\n        sMap.addDefaultLayer(window.SMap.DEF_BASE).enable();\n        sMap.addDefaultControls();\n\n        if (marker) {\n          var makrLayer = new window.SMap.Layer.Marker();\n          sMap?.addLayer(makrLayer);\n          makrLayer.enable();\n          const markerCors = window.SMap.Coords.fromWGS84(marker.x, marker.y);\n          var newMarker = new window.SMap.Marker(markerCors, false);\n          makrLayer?.addMarker(newMarker);\n          console.log(\"marker\");\n        }\n        setMap(sMap);\n      });\n      return () => {\n        document.body.removeChild(script);\n      };\n    };\n    const script = document.createElement(\"script\");\n    script.src = \"https://api.mapy.cz/loader.js\";\n    script.async = true;\n    script.onload = onload;\n    document.body.appendChild(script);\n  }, [props.marker]);\n  if (loading) {\n    return <div>Loading</div>;\n  } else {\n    return (\n      <MapContext.Provider value={map}>\n        <StyledMap style={{ width, height }} ref={mapNode}>\n          {map && children}\n        </StyledMap>\n      </MapContext.Provider>\n    );\n  }\n};\n\nMap.defaultProps = {\n  width: \"100%\",\n  height: \"300px\",\n  zoom: 13,\n  minZoom: 1,\n  maxZoom: 21,\n  baseLayers: [BaseLayers.TURIST_NEW],\n};\n\nexport default Map;\n","import React from 'react'\n\nfunction Mainhelper() {\n    const delay = (delay: number) => {\n        return new Promise((res) => setTimeout(res, delay));\n      };\n    return {delay}\n}\n\nexport default Mainhelper; \n","import { useState, useEffect } from \"react\";\nimport { useGlobalContext } from \"../../context\";\nimport { useHistory } from \"react-router-dom\";\nimport MainHelper from \"../../helpers/mainhelper\"; \nimport { getCategory } from \"../../api/category\";\nimport { addPost } from \"../../api/post\";\n\nfunction AddLogic() {\n  const { user } = useGlobalContext();\n  const [categories, setCategories] = useState<Category[] | null>();\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const history = useHistory();\n\n  const {delay} = MainHelper(); \n  const { setPage, page, setNavigator } = useGlobalContext();\n\n  useEffect(() => {\n    if (!user) history.push(\"/\");\n    setPage(\"posts\");\n    setNavigator(\"posts|add post\");\n    getCategory().then((res) => {\n      if (res) setCategories(res.data);\n    });\n  }, []);\n\n  const selectCategory = (id: string, value: boolean) => {\n    if (value) {\n      setSelectedCategories((selectedCategories) => [\n        ...selectedCategories,\n        id,\n      ]);\n    } else {\n      setSelectedCategories((selectedCategories) =>\n        selectedCategories.filter((item) => item !== id)\n      );\n    }\n  };\n  const formSubmit = (datas: any) => {\n    setLoading(true);\n    const { data, mapCoors, images } = datas;\n    const formData = new FormData();\n    formData.append(\"name\", data.name);\n    formData.append(\"description\", data.description);\n\n    if (mapCoors) {\n      formData.append(\"location\", mapCoors.x.toString());\n      formData.append(\"location\", mapCoors.y.toString());\n      formData.append(\"place\", data.location);\n    }\n\n    if (selectedCategories.length > 0) {\n      [...selectedCategories].forEach((item: any, key: number) => {\n        formData.append(\"categories\", selectedCategories[key]);\n      });\n    }\n    if (images) {\n      [...images].forEach((item: any, key: number) => {\n        formData.append(\"images\", images[key]);\n      });\n    }\n    addPost(formData).then((res) => {\n      console.log(res);\n      if (\"err\" in res) {\n        setMsg(\"\");\n        setError(res.err);\n      } else if (\"msg\" in res) {\n        setError(\"\");\n        setMsg(res.msg);\n        delay(3).then(() => {\n          history.push(\"/\");\n        }); \n      } else {\n        setMsg(\"\");\n        setError(\"Something went wrong\");\n      }\n      setLoading(false);\n    });\n  };\n  function closeAlert() {\n    setError(\"\");\n    setMsg(\"\");\n  }\n\n  return {\n    categories,\n    selectCategory,\n    selectedCategories,\n    formSubmit,\n    error,\n    msg,\n    closeAlert,\n    loading,\n    setError,\n  };\n}\n\nexport default AddLogic;\n","import { useEffect, useState, useMemo } from \"react\";\nimport ReactLoading from \"react-loading\";\nimport { Button, Spinner, Alert } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport { useForm } from \"react-hook-form\";\nimport \"../../App.css\";\nimport \"../../styles/Add-post.css\";\n\nimport useFindInMap from \"../../mapa/useFindInMap\";\nimport Mapa from \"../../mapa/Map\";\nimport AddLogic from \"./AddLogic\";\n\ninterface LocationRes {\n  coords: mapCoors;\n  label: string;\n  id: number;\n}\ninterface Props {\n  setPopup: (str: string | null) => void;\n  setShowPopup: (bl: boolean) => void;\n}\n// posouvani\nfunction Add({ setPopup, setShowPopup }: Props) {\n  const [findResults, setFindResults] = useState<LocationRes[] | null>();\n  const [mapCoors, setMapCoors] = useState<mapCoors | undefined>();\n  const [images, setImages] = useState<any>();\n\n  const {\n    categories,\n    selectCategory,\n    formSubmit,\n    error,\n    msg,\n    closeAlert,\n    loading,\n  } = AddLogic();\n  const { setLoactionToFind, result } = useFindInMap();\n  const { register, handleSubmit, getValues, setValue, watch } = useForm();\n  const watchLocation = watch(\"location\");\n\n  var mapResult: LocationRes[] | null = useMemo(() => result, [result]);\n\n  useEffect(() => {\n    if (watchLocation) setLoactionToFind(watchLocation);\n  }, [watchLocation]);\n\n  const selectLocRes = (coors: mapCoors, label: string) => {\n    setValue(\"location\", label);\n    mapResult = null;\n    setMapCoors(coors);\n  };\n  const onFileChange = (e: any) => {\n    setImages(e.target.files);\n  };\n\n  const onSubmit = (data: any) => {\n    formSubmit({ data, images, mapCoors });\n  };\n  return (\n    <main className=\"add-post-box\">\n      <h1 className=\"mb-3\">New Post</h1>\n      <div className=\"add-post-form\">\n        <Alert\n          variant={`${!!error ? \"danger\" : \"\"}${!!msg ? \"success\" : \"\"} `}\n          onClose={closeAlert}\n          show={!!error || !!msg}\n          dismissible\n        >\n          {`${!!error ? error : \"\"}${!!msg ? msg : \"\"}`}\n        </Alert>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <p className=\"font1\">Name</p>\n          <input\n            type=\"text\"\n            className=\"input name\"\n            placeholder=\"Enter name of post\"\n            {...register(\"name\")}\n          />\n          <p className=\"font1\">Description</p>\n          <textarea\n            rows={3}\n            className=\"input\"\n            placeholder=\"Enter description  ....\"\n            {...register(\"description\")}\n          ></textarea>\n          <div className=\"d-flex justify-content-between\">\n            <p className=\"font1\">Choose categories: </p>\n            <p\n              className=\"font2 link\"\n              onClick={() => {\n                setPopup(\"addCategory\");\n                setShowPopup(true);\n              }}\n            >\n              Add category\n            </p>\n          </div>\n          <div className=\"category-box\">\n            {categories ? (\n              categories.map((category, index) => (\n                <div key={index} className=\"category\">\n                  {category.name}\n                  <input\n                    type=\"checkbox\"\n                    className=\"checkmark\"\n                    onChange={(e) => {\n                      selectCategory(category._id, e.target.checked);\n                    }}\n                  />\n                </div>\n              ))\n            ) : (\n              <ReactLoading\n                type={\"cylon\"}\n                height={50}\n                width={375}\n                color=\"white\"\n                className=\"category loading-cat\"\n              />\n            )}\n          </div>\n          <p className=\"font1\">Add location</p>\n          <div className=\"fl-between\">\n            <div style={{ width: \"100%\" }}>\n              <input\n                type=\"text\"\n                className=\"input map-inp\"\n                placeholder=\"Enter name of location or area\"\n                {...register(\"location\")}\n              />\n              <Button variant=\"success\" className=\"check\">\n                <FontAwesomeIcon icon={faCheck} size=\"2x\" />\n              </Button>\n              <ul className=\"help font2\">\n                {mapResult && getValues(\"location\") !== \"\"\n                  ? mapResult.slice(0, 3).map((item, index) => (\n                      <li\n                        key={index}\n                        onClick={() => {\n                          selectLocRes(item.coords, item.label);\n                        }}\n                      >\n                        {item.label}\n                      </li>\n                    ))\n                  : \"\"}\n              </ul>\n            </div>\n            <div className=\"map\">\n              {mapCoors ? (\n                <Mapa\n                  height=\"100%\"\n                  center={{ lat: mapCoors.y, lng: mapCoors.x }}\n                  zoom={11}\n                  marker={mapCoors}\n                />\n              ) : (\n                <Mapa\n                  height=\"100%\"\n                  center={{ lat: 50.0755, lng: 14.4378 }}\n                  zoom={5}\n                />\n              )}\n            </div>\n          </div>\n          <p className=\"font1\">Add photos</p>\n          <input\n            type=\"file\"\n            name=\"imgCollection\"\n            onChange={onFileChange}\n            multiple\n          />\n\n          <p className=\"font2 mt-1\">{images ? images.length : 0} photos selected</p>\n          <div className=\"photos\"></div>\n          <Button variant=\"success mt-4 font1\" className=\"upload\" type=\"submit\">\n            {loading ? (\n              <Spinner animation=\"border\" variant=\"light\" />\n            ) : (\n              \"Upload post\"\n            )}\n          </Button>\n        </form>\n      </div>\n    </main>\n  );\n}\n\nexport default Add;\n","import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"../../context\";\nfunction About() {\n  const { setPage } = useGlobalContext();\n\n  useEffect(() => {\n    setPage(\"about\");\n  }, []);\n  return <div>About us</div>;\n}\n\nexport default About;\n","import {useState} from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport AppContainer from \"../components/AppContainer\";\nimport Nav from \"../components/Nav\";\nimport Navigator from \"../components/Navigation\";\nimport Home from \"../pages/Home/Home\";\nimport Add from \"../pages/AddPost/Add\";\nimport About from \"../pages/About/About\";\nfunction UserRoutes() {\n  const [popup, setPopup] = useState<String | null>(null);\n  const [showPopup, setShowPopup] = useState<boolean>(false);\n\n  return (\n    <Switch>\n      <AppContainer\n        popup={popup}\n        setPopup={setPopup}\n        showPopup={showPopup}\n        setShowPopup={setShowPopup}\n      >\n        <Nav setPopup={setPopup} setShowPopup={setShowPopup} />\n        <Navigator />\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route exact path=\"/add\">\n          <Add setPopup={setPopup} setShowPopup={setShowPopup} />\n        </Route>\n        <Route path=\"/chats\">\n          <About />\n        </Route>\n        <Route path='*'>\n          <p className=\"text-danger\">Nothings 404!</p>\n        </Route>\n      </AppContainer>\n    </Switch>\n  );\n}\n\nexport default UserRoutes;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport AdminRoutes from \"./routes/AdminRoutes\";\nimport UserRoutes from \"./routes/UserRoutes\";\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/admin\">\n          <AdminRoutes />\n        </Route>\n        <Route>\n          <UserRoutes />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { AppProvider } from \"./context\"; \n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}